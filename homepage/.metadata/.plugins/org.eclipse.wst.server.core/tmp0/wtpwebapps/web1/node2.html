<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Javascript node 활용 2(오브젝트 이동)</title>
</head>
<style>
	.banner{
		width:100px;
		height:100px;
		border: 1px solid black;
		margin: 0 auto;
		position: relative;
		overflow: hidden;
	}
	.ulcss{
		width:400px;
		height:inherit;
		list-style: none;
		margin: 0;
		padding: 0;
		display: flex;
		flex-direction:row;
		justify-content: flex-start;
		position: absolute;
		/* css에 transition 적용시 지속적으로 애니메이션 작동 */
	}
	.ulcss > li{
		width:100px;
		height:100px;
	}
	
</style>
<body>
	<div class="banner">
		<ul id="ulcss" class="ulcss">
			<li style="background-color: red;" onclick="bn.banner(1)">1</li>
			<li style="background-color: orange;" onclick="bn.banner(2)">2</li>
			<li style="background-color: yellow;" onclick="bn.banner(3)">3</li>
			<li style="background-color: green;" onclick="bn.banner(4)">4</li>
			<!--  
			<li style="background-color: red;" data-url="http://naver.com" data-money="5000" onclick="bn.click(this.dataset)">1</li>
			<li style="background-color: orange;" data-url="http://nate.com" onclick="bn.click(this.dataset)">2</li>
			<li style="background-color: yellow;" data-url="http://google.com" onclick="bn.click(this.dataset)">3</li>
			<li style="background-color: green;" data-url="http://daum.net" onclick="bn.click(this.dataset)">4</li>
			 -->
		</ul>
	</div>
	<input type="button" value="left" onclick="bn.leftbtn()">
	<input type="button" value="right" onclick="bn.rightbtn()">
</body>
<script>
//연속 클릭시 jquery => stop()
	var bn = new abc();
	function abc(){
		var node = document.getElementById("ulcss");
		var cpnode;
		var part;
		var ck = false; //기본이 false
		
		/*  //쌤풀이
		this.click = function(a){
			location.href = a.url;
			//console.log(a.url);
			//location.href=a.getAttribute("data");
		}
		*/
		
		this.leftbtn = function(){
			if(ck==false){
				ck = true;
				cpnode = node.lastElementChild.cloneNode(true);	//노드복사
				node.style.left = "-100px";	//부모 노드를 배너 크기만큼 당김
				node.removeChild(node.lastElementChild);	//맨 마지막 노드삭제
				node.insertBefore(cpnode,node.firstElementChild);	//복사된 노드 부모기준 첫번째 노드로 추가(붙여넣기)
				//애니메이션 발동
				node.style.transition = "transform 1s ease";
				node.style.transform = "translate(100px,0)";
				setTimeout(this.timer,1000);	//시간 타이머 작동
				part = "legt";
			}
		}
		this.rightbtn = function(){
			if(ck==false){
				ck = true;
				//li 하나의 크기 만큼 잡아 당김(ul)
				node.style.transition = "transform 1s ease";
				node.style.transform = "translate(-100px,0)"; //translate(X축,Y축) X축 ,Y축으로 움직임
				setTimeout(this.timer,1000);
				part = "right";
			}
		}
		this.timer = function(){
			if(part=="right"){
				cpnode = node.firstElementChild.cloneNode(true); //노드복사
				node.removeChild(node.firstElementChild);	//노드삭제
				node.append(cpnode);
				//node.style.transition = "";
				node.style = "";
				//node.style.left = "0px"; 
				ck = false;
			}
			else{
				node.style = "";
				ck = false;
			}
		}
		this.banner = function(a){
			if(a=="1"){
				location.href="http://www.naver.com";
			}
			else if(a=="2"){
				location.href="http://www.nate.com";
			}
			else if(a=="3"){
				location.href="http://www.daum.net";
			}
			else if(a=="4"){
				location.href="https://www.google.com";
			}
		}
	}
</script>
</html>