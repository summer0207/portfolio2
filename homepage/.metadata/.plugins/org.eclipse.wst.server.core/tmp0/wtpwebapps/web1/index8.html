<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ajax POST,GET 2 - return(동기화)</title>
</head>
<script>
	function abc(){
		const data = ajax("./data.json");
		console.log(data);
	}
	function ajax(url){
		var http = new XMLHttpRequest();
		var adata;
		http.onreadystatechange = function(){
			if(http.readyState == XMLHttpRequest.DONE && http.status==200){
				//통신 조건문에는 return을 활용하지 못함
				adata = JSON.parse(this.response);
				//console.log(this.response);
			}
		}
		//false 사용시 통신이 모두 완료 후 return 작동
		http.open("GET",url,false);	//동기화 형태로 return을 사용
		http.send();
		return adata;	//통신이 끝난 후 해당 변수값으로 데이터를 return 시킴
	}
</script>
<body>

<input type="button" value="버튼클릭" onclick="abc()">

</body>
</html>