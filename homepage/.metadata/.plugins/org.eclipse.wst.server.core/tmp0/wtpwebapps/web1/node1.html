<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Javascript node 활용 1</title>
</head>
<body>
	<ul id="box">
		<li>공지사항1</li>
		<li>공지사항2</li>
		<li>공지사항3</li>
		<li>공지사항4</li>
		<li>공지사항5</li>
	</ul>
	<input type="button" value="노드확인" onclick="node.nodecheck()">
	<input type="button" value="노드추가1" onclick="node.insert_node()">
	<input type="button" value="노드추가2" onclick="node.before_node()">
	<input type="button" value="노드삭제" onclick="node.delete_node()">
	<input type="button" value="노드복제 붙여넣기" onclick="node.copy_node()">
</body>
<script>
	var node = new abc();
	function abc(){
		var box = document.getElementById("box");
		this.nodecheck = function(){
			//var chnode = box.childNodes;	//javascript dom, node를 생성하여 출력하였을 경우
			//var ea = box.childNodes.length;
			var chnode2 = box.children;	//직접코드를 생성 또는 javascript dom, node를 생성
			var ea = box.children.length;
			//console.log(ea);
		}
		
		//동적으로 태그를 생성
		this.insert_node = function(){
			//innerHTML : 태그로 생성
			//append : 무조건 문자화로 적용합니다. (부모기준 맨 마지막에 생성)
			//<li><span>공지사항</span></li>
			
			var html = document.createElement("li");
			var html2 = document.createElement("span");
			//html.className = "abc"; -classname생성
			//html.id = "abc";	-id 생성
			//html.value = "abc"; - value 생성
			
			var text = document.createTextNode("공지사항5");
			
			html2.append(text);
			html.append(html2);
			
			//html.append(text);
			//html.innerHTML = "<span>공지사항5</span>";
			box.append(html);
		}
		this.before_node = function(){
			var html = document.createElement("li");
			var html2 = document.createElement("span");
			var text = document.createTextNode("공지사항5");
			html2.append(text);
			html.append(html2);
			box.insertBefore(html,box.children[0]);
			//insertBefore(삽입할 노드, 부모기준.자식노드번호);
		}
		this.delete_node = function(){
			//box.remove(); => 해당 노드 전체삭제(부모를 삭제)
			//box.removeChild(); => 부모 노드 중 자식노드에 한해서 
			
			//첫번째 노드만 삭제
			//box.removeChild(box.firstChild);	//직접생성 text 노드 삭제 후 본 태그를 삭제
			//box.removeChild(box.firstElementChild);	//태그만 삭제 (text노드 상관없이)
			//box.removeChild(box.children[0]);
			
			//마지막 노드삭제
			box.removeChild(box.lastElementChild);
			
		}
		this.copy_node = function(){
			//var tag = box.cloneNode();	//부모기준으로 복사 단, 자식노드는 복사하지 않음
			/*
			var tag = box.firstElementChild.cloneNode(true); //맨 처음에 있는 노드를 box.append(tag); 맨뒤로 보냄
			//cloneNode() => false:태그만 복사(내용X), true:태그 및 내용까지 모두 복사
			console.log(tag);
			box.append(tag); //맨뒤에 노드를 붙힘 
			*/
			/*
			var tag = box.lastElementChild.cloneNode(true); 
			console.log(tag);
			//box.insertBefore(tag,box.children[0]); //노드를 맨앞에 붙혀넣기
			box.insertBefore(tag,box.firstElementChild);
			*/
			var tag = box.lastElementChild.cloneNode(true); //복사
			box.removeChild(box.lastElementChild);	//해당 노드 삭제
			box.insertBefore(tag,box.firstElementChild);	//노드 추가
		}
	}
</script>
</html>